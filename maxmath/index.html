<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Max vs Oscar - F1 2025 Championship Battle - UPDATED</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #E30118, #FF8700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .subtitle {
            text-align: center;
            color: #aaa;
            margin-bottom: 20px;
            font-size: 1.1em;
        }
        .update-banner {
            background: linear-gradient(45deg, #00ff00, #00cc00);
            color: #000;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: rgba(255, 255, 255, 0.08);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
        }
        .stat-card.max {
            border-top: 3px solid #E30118;
        }
        .stat-card.oscar {
            border-top: 3px solid #FF8700;
        }
        .stat-card.gap {
            border-top: 3px solid #00ff00;
        }
        .stat-header {
            font-size: 0.9em;
            color: #aaa;
            margin-bottom: 10px;
        }
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #fff;
        }
        .stat-label {
            font-size: 0.85em;
            color: #999;
            margin-top: 5px;
        }
        .chart-wrapper {
            position: relative;
            height: 600px;
            margin-bottom: 30px;
        }
        .legend-custom {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            padding: 12px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 8px;
            transition: all 0.3s;
        }
        .legend-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        .legend-color {
            width: 30px;
            height: 4px;
            margin-right: 10px;
            border-radius: 2px;
        }
        .legend-text {
            font-size: 0.9em;
        }
        .info-box {
            background: rgba(227, 1, 24, 0.1);
            border-left: 4px solid #E30118;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
        }
        .info-box h3 {
            margin-bottom: 10px;
            color: #FF8700;
        }
        .info-box ul {
            list-style: none;
            padding-left: 0;
        }
        .info-box li {
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .sprint-indicator {
            color: #FDD900;
            font-weight: bold;
        }
        .momentum-indicator {
            background: rgba(0, 255, 0, 0.1);
            border-left: 4px solid #00ff00;
            padding: 15px;
            margin-top: 20px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üèÅ F1 2025 Championship Battle</h1>
        <p class="subtitle">Max Verstappen vs Oscar Piastri - Updated After Austin</p>
        
        <div class="update-banner">
            ‚úÖ UPDATED: Max wins Austin Sprint + GP! Gap reduced to 51 points!
        </div>

        <div class="stats-grid">
            <div class="stat-card max">
                <div class="stat-header">Max Verstappen</div>
                <div class="stat-value">284 pts</div>
                <div class="stat-label">Recent: P1 Sprint + P1 Race</div>
            </div>
            <div class="stat-card gap">
                <div class="stat-header">Championship Gap</div>
                <div class="stat-value">51</div>
                <div class="stat-label">Oscar still leads</div>
            </div>
            <div class="stat-card oscar">
                <div class="stat-header">Oscar Piastri</div>
                <div class="stat-value">335 pts</div>
                <div class="stat-label">Recent: P3 Sprint + P2 Race</div>
            </div>
        </div>
        
        <div class="chart-wrapper">
            <canvas id="championshipChart"></canvas>
        </div>

        <div class="legend-custom">
            <div class="legend-item">
                <div class="legend-color" style="background: #fff; height: 3px;"></div>
                <div class="legend-text">‚ö™ Historical Data (Actual)</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #00ff00;"></div>
                <div class="legend-text">üü¢ Current Trend (12 pts/race avg)</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #00d4ff;"></div>
                <div class="legend-text">üîµ Optimistic (15 pts/race)</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ffaa00;"></div>
                <div class="legend-text">üü† Conservative (9 pts/race)</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ff00ff;"></div>
                <div class="legend-text">üü£ Best Case (Max dominance)</div>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ff4444;"></div>
                <div class="legend-text">üî¥ Mixed Realistic</div>
            </div>
        </div>

        <div class="momentum-indicator">
            <h3>üöÄ Max's Momentum</h3>
            <ul>
                <li><strong>Last 2 Races (Austin):</strong> +12 points gained total</li>
                <li><strong>Austin Sprint:</strong> Max P1 (8pts), Oscar P3 (6pts) = +2 pts</li>
                <li><strong>Austin GP:</strong> Max P1 (25pts), Oscar P2 (18pts) = +7 pts</li>
                <li><strong>New Average Gain:</strong> ~11.5 points per race weekend</li>
            </ul>
        </div>

        <div class="info-box">
            <h3>üìä Updated Championship Math</h3>
            <ul>
                <li><strong>Current Gap:</strong> 51 points (down from 63)</li>
                <li><strong>Points Gained at Austin:</strong> 12 points</li>
                <li><strong>Remaining Points:</strong> 141 total (125 from 5 GPs + 16 from 2 Sprints)</li>
                <li><strong>Remaining Sprint Races:</strong> <span class="sprint-indicator">‚òÖ Brazil, Qatar</span></li>
                <li><strong>Remaining Regular GPs:</strong> Mexico, Brazil, Las Vegas, Qatar, Abu Dhabi</li>
                <li><strong>Max's Updated Trend:</strong> Gaining ~12 pts/race (up from 10.25)</li>
                <li><strong>Races to Championship:</strong> ~4.25 races at current pace!</li>
            </ul>
        </div>
    </div>

    <script>
        const races = [
            'Zandvoort', 'Monza', 'Baku', 'Singapore',
            'Austin Sprint', 'Austin GP', 'Mexico', 
            'Brazil Sprint', 'Brazil GP', 'Las Vegas',
            'Qatar Sprint', 'Qatar GP', 'Abu Dhabi'
        ];

        // UPDATED: Historical data including Austin
        const historical = [104, 94, 69, 63, 61, 51];
        
        // UPDATED: Future predictions starting from current gap of 51
        // New average: (41 + 12) / 6 races = ~8.8, but last 2 races = 12/2 = 6 per event
        // So for full race weekends: ~12 pts, for single races: ~10 pts, for sprints: ~2 pts
        
        const currentTrend = [51, 41, 39, 29, 19, 17, 7, -3];  // 10 pts/GP, 2 pts/sprint
        const optimistic = [51, 36, 34, 19, 4, 3, -12, -27];   // 15 pts/GP, 2 pts/sprint  
        const conservative = [51, 42, 40.5, 31.5, 22.5, 21, 12, 3];  // 9 pts/GP, 1.5 pts/sprint
        const bestCase = [51, 31, 29, 9, -11, -12, -32, -52];  // Max dominance
        const mixedRealistic = [51, 44, 42, 35, 28, 27, 20, 15];  // Variable results

        const ctx = document.getElementById('championshipChart').getContext('2d');
        
        const chart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: races,
                datasets: [
                    {
                        label: 'Historical (Actual)',
                        data: [104, 94, 69, 63, 61, 51, null, null, null, null, null, null, null],
                        borderColor: '#ffffff',
                        backgroundColor: 'rgba(255, 255, 255, 0.1)',
                        borderWidth: 4,
                        pointRadius: 6,
                        pointHoverRadius: 8,
                        pointBackgroundColor: '#ffffff',
                        pointBorderColor: '#E30118',
                        pointBorderWidth: 2,
                        tension: 0.3
                    },
                    {
                        label: 'Current Trend',
                        data: [null, null, null, null, null, ...currentTrend],
                        borderColor: '#00ff00',
                        backgroundColor: 'rgba(0, 255, 0, 0.05)',
                        borderWidth: 3,
                        pointRadius: 5,
                        pointHoverRadius: 7,
                        pointStyle: 'circle',
                        tension: 0.3,
                        borderDash: [5, 5]
                    },
                    {
                        label: 'Optimistic',
                        data: [null, null, null, null, null, ...optimistic],
                        borderColor: '#00d4ff',
                        backgroundColor: 'rgba(0, 212, 255, 0.05)',
                        borderWidth: 3,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        pointStyle: 'triangle',
                        tension: 0.3,
                        borderDash: [10, 5]
                    },
                    {
                        label: 'Conservative',
                        data: [null, null, null, null, null, ...conservative],
                        borderColor: '#ffaa00',
                        backgroundColor: 'rgba(255, 170, 0, 0.05)',
                        borderWidth: 3,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        pointStyle: 'rect',
                        tension: 0.3,
                        borderDash: [3, 3]
                    },
                    {
                        label: 'Best Case',
                        data: [null, null, null, null, null, ...bestCase],
                        borderColor: '#ff00ff',
                        backgroundColor: 'rgba(255, 0, 255, 0.05)',
                        borderWidth: 3,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        pointStyle: 'rectRot',
                        tension: 0.3,
                        borderDash: [15, 5]
                    },
                    {
                        label: 'Mixed Realistic',
                        data: [null, null, null, null, null, ...mixedRealistic],
                        borderColor: '#ff4444',
                        backgroundColor: 'rgba(255, 68, 68, 0.05)',
                        borderWidth: 3,
                        pointRadius: 4,
                        pointHoverRadius: 6,
                        pointStyle: 'crossRot',
                        tension: 0.3,
                        borderDash: [8, 4]
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Oscar\'s Lead Over Max (Points) - UPDATED After Austin - Negative = Max Leading',
                        color: '#fff',
                        font: {
                            size: 16,
                            weight: 'bold'
                        },
                        padding: 20
                    },
                    legend: {
                        display: false
                    },
                    tooltip: {
                        backgroundColor: 'rgba(0, 0, 0, 0.8)',
                        titleColor: '#FF8700',
                        bodyColor: '#fff',
                        borderColor: '#E30118',
                        borderWidth: 2,
                        padding: 12,
                        displayColors: true,
                        callbacks: {
                            title: function(context) {
                                const label = context[0].label;
                                const isSprint = label.includes('Sprint');
                                return (isSprint ? '‚òÖ ' : '') + label;
                            },
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.y !== null) {
                                    const gap = Math.abs(context.parsed.y);
                                    const leader = context.parsed.y > 0 ? 'Oscar leads' : 'Max leads';
                                    label += context.parsed.y === 0 ? 'TIED' : `${leader} by ${gap.toFixed(1)} pts`;
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        grid: {
                            color: 'rgba(255, 255, 255, 0.1)',
                            drawTicks: true
                        },
                        ticks: {
                            color: '#fff',
                            font: {
                                size: 11
                            },
                            maxRotation: 45,
                            minRotation: 45,
                            callback: function(value, index) {
                                const label = this.getLabelForValue(value);
                                const isSprint = label.includes('Sprint');
                                // Highlight Austin races
                                if (label.includes('Austin')) {
                                    return '‚úÖ ' + (isSprint ? '‚òÖ ' : '') + label;
                                }
                                return isSprint ? '‚òÖ ' + label : label;
                            }
                        },
                        border: {
                            color: 'rgba(255, 255, 255, 0.3)'
                        }
                    },
                    y: {
                        grid: {
                            color: function(context) {
                                if (context.tick.value === 0) {
                                    return 'rgba(0, 0, 0, 0.8)';
                                }
                                return 'rgba(255, 255, 255, 0.1)';
                            },
                            lineWidth: function(context) {
                                if (context.tick.value === 0) {
                                    return 3;
                                }
                                return 1;
                            }
                        },
                        ticks: {
                            color: '#fff',
                            font: {
                                size: 12
                            },
                            callback: function(value) {
                                if (value === 0) return '‚ïê‚ïê‚ïê TIE ‚ïê‚ïê‚ïê';
                                return value > 0 ? `Oscar +${value}` : `Max +${Math.abs(value)}`;
                            }
                        },
                        border: {
                            color: 'rgba(255, 255, 255, 0.3)',
                            dash: [5, 5]
                        },
                        title: {
                            display: true,
                            text: 'Championship Points Gap',
                            color: '#FF8700',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        }
                    }
                }
            },
            plugins: [{
                afterDraw: function(chart) {
                    const ctx = chart.ctx;
                    const xAxis = chart.scales.x;
                    const yAxis = chart.scales.y;
                    
                    // Draw sprint race indicators
                    const sprintIndices = [4, 7, 10]; // Austin Sprint, Brazil Sprint, Qatar Sprint
                    
                    ctx.save();
                    sprintIndices.forEach(index => {
                        const x = xAxis.getPixelForValue(index);
                        const yTop = yAxis.top;
                        const yBottom = yAxis.bottom;
                        
                        // Highlight Austin sprint with different color
                        const color = index === 4 ? 'rgba(0, 255, 0, 0.12)' : 'rgba(253, 217, 0, 0.08)';
                        ctx.fillStyle = color;
                        ctx.fillRect(x - 15, yTop, 30, yBottom - yTop);
                        
                        ctx.strokeStyle = index === 4 ? 'rgba(0, 255, 0, 0.4)' : 'rgba(253, 217, 0,
